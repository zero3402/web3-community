# =============================================================================
# 🔧 환경 변수 설정 파일
# =============================================================================
# 설명: web3-community 프로젝트의 모든 환경 변수 설정
# 목적: 개발 환경에서의 설정 값 관리
# 주의: 이 파일은 민감 정보가 포함될 수 있으므로 Git 커밋 금지 (.gitignore에 추가)
# 실무 팁: production 환경은 별도의 secrets management 시스템 사용
# =============================================================================

# =============================================================================
# 🌐 쿠버네티스 클러스터 설정
# =============================================================================
# Minikube 설정
MINIKUBE_PROFILE=web3-community
MINIKUBE_CPUS=4
MINIKUBE_MEMORY=8192
MINIKUBE_DISK_SIZE=20g

# 네임스페이스 설정
K8S_NAMESPACE=web3-community

# =============================================================================
# 🐳 Docker 레지스트리 설정
# =============================================================================
# 로컬 개발용 레지스트리
DOCKER_REGISTRY=localhost:5000
DOCKER_NAMESPACE=web3-community

# 이미지 태그 설정
IMAGE_TAG=latest
DEV_IMAGE_TAG=dev

# =============================================================================
# 🚀 애플리케이션 서비스 포트 설정
# =============================================================================
# Frontend (Vue.js)
FRONTEND_PORT=3000
FRONTEND_NODE_PORT=30001

# Backend Services
API_GATEWAY_PORT=8080
USER_SERVICE_PORT=8081
POST_SERVICE_PORT=8082
COMMENT_SERVICE_PORT=8083
AUTH_SERVICE_PORT=8084
NOTIFICATION_SERVICE_PORT=8085

# =============================================================================
# 💾 데이터베이스 연결 설정
# =============================================================================
# MySQL (사용자 서비스)
MYSQL_HOST=mysql-service
MYSQL_PORT=3306
MYSQL_DATABASE=web3_community
MYSQL_USER=web3user
MYSQL_ROOT_PASSWORD=mysecretpass
MYSQL_PASSWORD=userpassword

# MongoDB (게시글/댓글 서비스)
MONGODB_HOST=mongodb-service
MONGODB_PORT=27017
MONGODB_DATABASE=web3_posts
MONGODB_USERNAME=mongouser
MONGODB_PASSWORD=mongopass

# Redis (세션/캐시)
REDIS_HOST=redis-service
REDIS_PORT=6379
REDIS_PASSWORD=redispass
REDIS_DATABASE=0

# =============================================================================
# 📡 Kafka 메시징 설정
# =============================================================================
# Kafka 브로커 설정
KAFKA_BOOTSTRAP_SERVERS=kafka-service:9092
KAFKA_ZOOKEEPER_CONNECT=zookeeper-service:2181

# Kafka 토픽 설정
KAFKA_TOPIC_NOTIFICATIONS=notifications
KAFKA_TOPIC_EVENTS=events
KAFKA_TOPIC_USER_ACTIVITY=user-activity
KAFKA_TOPIC_POST_UPDATES=post-updates

# Kafka 컨슈머 그룹
KAFKA_CONSUMER_GROUP_NOTIFICATION=notification-service
KAFKA_CONSUMER_GROUP_EVENT=event-service

# =============================================================================
# 🔐 인증/보안 설정
# =============================================================================
# JWT 토큰 설정
JWT_SECRET=mysecretjwdkey123
JWT_EXPIRATION=86400          # 24시간 (초 단위)
JWT_REFRESH_EXPIRATION=604800 # 7일 (초 단위)

# OAuth2 설정 (선택사항)
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret

# =============================================================================
# 📧 알림 시스템 설정
# =============================================================================
# 이메일 설정 (선택사항)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_email_password
SMTP_USE_TLS=true

# =============================================================================
# 🌍 네트워크 및 Ingress 설정
# =============================================================================
# 로컬 도메인 설정
LOCAL_DOMAIN=web3-community.local
INGRESS_HOST=localhost

# Ingress 설정
INGRESS_CONTROLLER=nginx
INGRESS_HTTP_PORT=80
INGRESS_HTTPS_PORT=443

# =============================================================================
# 📊 모니터링 및 로깅 설정
# =============================================================================
# 애플리케이션 로그 레벨
LOG_LEVEL=INFO
SPRING_PROFILES_ACTIVE=local

# Actuator 설정
MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE=health,info,metrics,prometheus
MANAGEMENT_ENDPOINT_HEALTH_SHOW_DETAILS=always

# =============================================================================
# 🔧 개발 환경 설정
# =============================================================================
# 핫 리로드 설정 (개발용)
VUE_APP_HOT_RELOAD=true
SPRING_DEVTOOLS_RESTART_ENABLED=true

# 디버그 포트 설정
DEBUG_PORT=5005

# =============================================================================
# 🚀 배포 설정
# =============================================================================
# 롤링 업데이트 설정
ROLLOUT_MAX_UNAVAILABLE=25%
ROLLOUT_MAX_SURGE=25%

# 리소스 기본 설정
DEFAULT_CPU_REQUEST=200m
DEFAULT_MEMORY_REQUEST=256Mi
DEFAULT_CPU_LIMIT=1000m
DEFAULT_MEMORY_LIMIT=1Gi

# =============================================================================
# 📁 파일 스토리지 설정
# =============================================================================
# 업로드 파일 경로
UPLOAD_PATH=/app/uploads
MAX_FILE_SIZE=10MB

# =============================================================================
# 🕐 타임아웃 설정
# =============================================================================
# HTTP 연결 타임아웃
HTTP_CONNECTION_TIMEOUT=30000  # 30초
HTTP_READ_TIMEOUT=60000       # 60초

# 데이터베이스 연결 타임아웃
DB_CONNECTION_TIMEOUT=30000    # 30초
DB_QUERY_TIMEOUT=60000         # 60초

# =============================================================================
# 🧪 테스트 환경 설정
# =============================================================================
# 테스트 데이터베이스 설정
TEST_MYSQL_DATABASE=test_web3_community
TEST_MONGODB_DATABASE=test_web3_posts

# =============================================================================
# 🔧 기타 유틸리티 설정
# =============================================================================
# 스크립트 디버그 모드
DEBUG_SCRIPTS=false

# 색상 출력 설정
COLOR_OUTPUT=true

# 자동 배포 설정
AUTO_DEPLOY=false